---
title: "Statistiche Sociali e Geopolitiche"
output: html_document
---

## Benvenuti sul Mio Sito di Grafici R!

WWQuesto sito è una dimostrazione di come è possibile pubblicare grafici generati con R direttamente su una pagina web. Ogni pagina contiene un grafico diverso, creato con la potenza di R e le sue librerie di visualizzazione dati.

---

## Grafico di Esempio: Distribuzione del Carburante

Ecco un semplice istogramma per iniziare, che mostra la distribuzione delle miglia per gallone (MPG) nel dataset `mtcars`.

```{r, echo=FALSE, message=FALSE, warning=FALSE, fig.width=8, fig.height=5, out.width="100%", fig.align="center"}

library(ggplot2)

# Dati
dataset <- data.frame(
  Categoria = c("Incidenti Stradali", "Malattie Cardiovascolari", "Tumori",
                "Incidenti Domestici", "Altre Cause"),
  Valore = c(15.2, 30.5, 25.1, 8.7, 20.5)
)

colori_pastello <- c("#AEC7E8", "#FFBB78", "#98DF8A", "#FF9896", "#C5B0D5")

# Ordina per categoria (come in plotly)
dataset$Categoria <- factor(dataset$Categoria, levels = dataset$Categoria)

# Grafico statico
ggplot(dataset, aes(x = Categoria, y = Valore, fill = Categoria)) +
  geom_col(color = "grey30", width = 0.7, show.legend = FALSE) +
  geom_text(
    aes(label = paste0(Valore, "%")),
    vjust = -0.7,
    size = 4,
    family = "Arial"
  ) +
  scale_fill_manual(values = colori_pastello) +
  scale_y_continuous(
    limits = c(0, max(dataset$Valore) * 1.15),
    expand = c(0, 0),
    name = "Valore Medio Annuo (%)"
  ) +
  labs(x = NULL) +
  theme_minimal(base_family = "Arial") +
  theme(
    plot.background = element_rect(fill = "white", color = NA),
    panel.grid.major.x = element_blank(),
    panel.grid.major.y = element_line(color = "lightgrey", linetype = "dotted"),
    axis.text.x = element_text(angle = 45, hjust = 1, size = 10, color = "grey20"),
    axis.text.y = element_text(size = 9, color = "grey20"),
    axis.title.y = element_text(size = 12, color = "black", face = "bold"),
    plot.margin = margin(t = 20, r = 20, b = 60, l = 50)
  )

```